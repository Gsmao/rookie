### MySql
1.  [索引及底层](#q_1)
2.  [日志](#q_2)
3.  [MySql 执行一条语句的过程？](#q_3)
4.  [MySql的锁机制](#q_4)
5.  [SQL优化问题](#q_5)
6.  [什么是MySql索引失效？](#q_6)
7.  [大表优化方案？分表策略？](#q_7)
8.  [读写分离？](#q_8)
9.  [MySql事务的特性？隔离级别？事务如何提交回滚？](#q_9)
10. [数据库增查改删、读写分离，拆库，拆表，并发处理等具体实现方法。](#q_10)
11. [分布式系统、事务（好像跟Mysql关系不是特别大）](#q_11)
12.



+ <span id = "q_1">1. 索引及底层</span>

+ <span id = "q_2">2. 日志</span>

+ <span id = "q_3">3. MySql 执行一条语句的过程?</span>

+ <span id = "q_4">4. MySql的锁机制</span>

+ <span id = "q_5">5. SQL优化问题</span>
mysql 优化

设计层面：  
1：查询缓存，有效缓存可以很大幅度减少 db 压力  
2：将列设置为NOT NULL. 原因：null占用存储空间，而且不参与索引树的构建，之前看书上说好像是做了特殊处理标记。  
3：对整数类型指定宽度，TINYINT存储范围是-128 ~ 127，而UNSIGNED TINYINT存储的范围却是0 - 255。  
4:  没有太大的必要使用DECIMAL数据类型。即使是在需要存储财务数据时，仍然可以使用BIGINT。比如需要精确到万分之一，那么可以将数据乘以一百万然后使用BIGINT存储。这样可以避免浮点数计算不准确和DECIMAL精确计算代价高的问题。  
5：TIMESTAMP使用4个字节存储空间，DATETIME使用8个字节存储空间。因而，TIMESTAMP只能表示1970 - 2038年，比DATETIME表示的范围小得多，而且TIMESTAMP的值因时区不同而不同。  
6：枚举类型无必要，必须使用ALTER TABLE（如果只是在列表末尾追加元素，不需要重建表）。  
7：大表ALTER TABLE非常耗时，MySQL执行大部分修改表结果操作的方法是用新的结构创建一个张空表，从旧表中查出所有的数据插入新表，然后再删除旧表。尤其当内存不足而表又很大，而且还有很大索引的情况下，耗时更久。当然有一些奇技淫巧可以解决这个问题，有兴趣可自行查阅。  
8：schema的列不要太多。一个是占用空间大，再一个原因是列太多而实际使用少的话，可能会导致CPU占用过高，存储引擎的API工作时需要在服务器层和存储引擎层之间通过行缓冲格式拷贝数据，然后在服务器层将缓冲内容解码成各个列，这个转换过程的代价是非常高的。  
9： varchar/nvarchar 代替 char/nchar。因为变长字段存储空间小，节省存储空间，其次对于查询来说，在一个相对较小的字段内搜索效率显然要高些。  
  
索引使用和创建：  
1：尽量使用覆盖索引查询，不需要回表查询，减少IO提高效率  
2：使用索引扫描来排序。不然效率极低。  
3：避免创建冗余和重复索引，删除长期未使用的索引  
4：explain后再提测是一种美德，我在初期吃过一次亏，预生产慢查询，img_id 没有索引  

sql优化：  
1：分页优化。覆盖索引扫描出  
2：GROUP BY 和 ORDER BY中的表达式只涉及到一个表中的列，这样MySQL才有可能使用索引来优化  
3：慎用in 和 not in ，避免查询过多导致全表扫描，对于连续的数值，能用 between 就不要用 in 了，很多时候用 exists 代替 in 是一个好的选择；  
4：通配符注意前面不能匹配，不然会全表扫描  
5：条件字段表达式左边字段使用函数不能走索引。（substring）  
6：索引的话 数字要比字符串更快，在联表查询的时候 合理的外键可以提升很多性能  
7：任何查询都不要用* 只查询你所需要的字段。不要返回无意义的字段  
8：尽量避免大事务操作，提高系统并发能力。在事务里最忌讳做一些复杂操作，不然并发能力很差  

+ <span id = "q_6">6. 什么是MySql索引失效？</span>

+ <span id = "q_7">7. 大表优化方案？分表策略？</span>

+ <span id = "q_8">8. 读写分离？</span>

+ <span id = "q_9">9. MySql事务的特性？隔离级别？事务如何提交回滚？</span>

+ <span id = "q_10">10. 数据库增查改删、读写分离，拆库，拆表，并发处理等具体实现方法。</span>

+ <span id = "q_11">11. 分布式系统、事务</span>

  
   